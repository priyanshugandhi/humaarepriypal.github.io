<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Priyanshu & Palak - Wedding Invitation</title>
    <link rel="icon" href="Palak-Priyanshu Wedding Logo" type="image/x-icon" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />

    <!-- SimplyCountdown.js -->
    <link rel="stylesheet" href="countdown/simplyCountdown.theme.default.css" />
    <script src="countdown/simplyCountdown.min.js"></script>

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

    <!-- CSS path -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <section id="hero" class="hero w-100 h-100 p-3 mx-auto text-center d-flex justify-content-center align-items-center text-white">
      <main>
        <div class="hero-content">
          <h4>To <span> Family & Friends</span></h4>
          <h1>Priyanshu & Palak</h1>
          <p>We joyfully invite you to our wedding celebration starting in:</p>
          <!-- Countdown timer centered -->
          <div class="simply-countdown-wrapper d-flex justify-content-center">
            <div class="simply-countdown"></div>
          </div>
        </div>
        <!-- Buttons container at the bottom -->
        <div class="hero-buttons">
          <a href="#home" class="btn btn-lg" onClick="enableScroll()">See Invitation <i class="bi bi-chevron-down ms-2"></i></a>
          <a href="#rsvp" class="btn btn-lg btn-rsvp">RSVP</a>
        </div>
      </main>
    </section>

    <!-- OffCanvas NavBar-->
    <nav class="navbar navbar-expand-md bg-transparent sticky-top mynavbar">
      <div class="container">
        <a class="navbar-brand" href="#">Priyanshu & Palak</a>
        <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Priyanshu & Palak</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <div class="navbar-nav ms-auto">
              <a class="nav-link" href="#hero">Home</a>
              <a class="nav-link" href="#home">Story</a>
              <a class="nav-link" href="#story">Schedule</a>
              <a class="nav-link" href="#gallery">Gallery</a>
              <a class="nav-link" href="#info">Venue</a>
              <a class="nav-link" href="#rsvp">RSVP</a>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Home -->
    <section id="home" class="home">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 text-center">
            <div class="elementor-widget-container">
              <img decoding="async" width="45" height="70" src="https://websitedemos.net/wedding-02/wp-content/uploads/sites/48/2020/06/flower-icon-01.png" class="attachment-full size-full wp-image-698" alt="">															
            </div>
            <h2>Our Story</h2>
            <p>We met in college, became best friends, and somehow the story wrote itself. Between late-night talks, spontaneous plans, and shared dreams, friendship turned into love — the kind that feels effortless and meant to be. What began in classrooms soon became a story of two hearts learning, growing, and choosing each other — every single day</p>
          </div>
        </div>

        <div class="row couple align-items-center">
          <div class="col-12 col-lg-5 order-1 order-lg-1">
            <div class="couple-person text-end text-lg-end">
              <h3>Priyanshu Gandhi</h3>
              <p>The calm in every storm, the brain behind every plan, and occasionally… the reason they’re late. <br></br> Coffee, code, and Travel — his three pillars of peace.</p>
              <div class="social-icons">
                <a href="https://facebook.com/pris.gandhi" target="_blank" class="social-icon"><i class="bi bi-facebook"></i></a>
                <a href="https://www.instagram.com/we_outlanders/" target="_blank" class="social-icon"><i class="bi bi-instagram"></i></a>
              </div>
            </div>
          </div>

          <!-- Couple image centered between names -->
          <div class="col-12 col-lg-2 order-2 order-lg-2">
            <div class="couple-image-wrapper">
              <img src="img/img-couple.png" alt="Priyanshu & Palak" class="couple-image" />
            </div>
          </div>

          <div class="col-12 col-lg-5 order-3 order-lg-3">
            <div class="couple-person text-start text-lg-start">
              <h3>Palak Soni</h3>
              <p>The chaos wrapped in sunshine — brings the energy, the sparkle, and all the extra selfies. <br></br> Drama, details, and Fries — her daily dose of joy.</p>
              <div class="social-icons">
                <a href="https://facebook.com/palak.soni.714" target="_blank" class="social-icon"><i class="bi bi-facebook"></i></a>
                <a href="https://www.instagram.com/palaksoni5/" target="_blank" class="social-icon"><i class="bi bi-instagram"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Story section -->
    <section id="story" class="story">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <span>Get Ready for Wedding</span>
            <h2>Wedding Schedule</h2>
            <p>Every love story is beautiful, but ours is our favorite. Here's a glimpse into our wedding events.</p>
          </div>
        </div>

        <!-- PDF Buttons Section -->
        <div class="row justify-content-center mt-4 mb-5">
          <div class="col-md-8 col-10 text-center">
            <div class="pdf-buttons-wrapper">
              <a href="docs/Wardrobe Planner.pdf" target="_blank" class="btn-pdf wardrobe-planner-btn">
                <span>Plan your outfit - Wardrobe Planner</span>
              </a>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <ul class="timeline">
              <li class="theme-vibrant">
                <div class="timeline-image" style="background-image: url(img/mayra.jpg)"></div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h3>Rasm -E- Mayra (Bride's Side)</h3>
                    <span>Rajasthani Treat with your happy dancing feet!</span>
                  </div>
                  <div class="timeline-body">
                    <p> 
                    <b>Date:</b> 07-Dec-2025 <br>
                    <b>Time:</b> 2:00 PM Onwards <br>
                    <b>Venue:</b> Lotus Party Hall, Bamboo Saa Spa & Resort <br>
                    <b>Theme:</b> Vibrant & Colorful</p>
                  </div>
                </div>
              </li>
              <li class="timeline-inverted theme-glam">
                <div class="timeline-image" style="background-image: url(img/sangeet.png)"></div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h3>Bollywood Night</h3>
                    <span>Your dancing shoes are going
                      to be the most important accessory on
                      this Crazy Night!</span>
                  </div>
                  <div class="timeline-body">
                    <p> 
                      <b>Date:</b> 07-Dec-2025 <br> 
                      <b>Time:</b> 8:00 PM Onwards <br>
                      <b>Venue:</b> Leela Banquet Hall, Bamboo Saa Spa & Resort <br>
                      <b>Theme:</b> Glitz & Glam</p>
                  </div>
                </div>
              </li>
              <li class="theme-pop">
                <div class="timeline-image" style="background-image: url(img/Haldi.jpeg)"></div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h3>Haldi Splash</h3>
                    <span>Get ready to bathe in warmth of love and colors!</span>
                  </div>
                  <div class="timeline-body">
                    <p> 
                      <b>Date:</b> 08-Dec-2025 <br> 
                      <b>Time:</b> 9:00 AM Onwards <br>
                      <b>Venue:</b> Vrindavan Lawn, Bamboo Saa Spa & Resort <br>
                      <b>Theme:</b> Indian Pop
                    </p>
                  </div>
                </div>
              </li>
              <li class="timeline-inverted theme-royal">
                <div class="timeline-image" style="background-image: url(img/shaadi.jpeg)"></div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h3>Shagna Di Shaam</h3>
                    <span>Keep your hankerchief ready to wipe off those
                      happy tears!</span>
                  </div>
                  <div class="timeline-body">
                    <p> 
                      <b>Date:</b> 08-Dec-2025 <br> 
                      <b>Time:</b> 5:00 PM Onwards <br>
                      <b>Venue:</b> Lotus Green, Bamboo Saa Spa & Resort <br>
                      <b>Theme:</b> Royal & Traditional</p>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <!-- Story section End -->

    <!-- Gallery Section -->
    <section id="gallery" class="gallery">
      <!-- Container to hold the gallery content -->
      <div class="container">
        <!-- Row for the gallery title and description, centered in the middle -->
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <!-- Subtitle and heading for the gallery -->
            <span>Humaare PriyPal</span>
            <h2>Gallery</h2>
            <!-- Description text under the heading -->
            <p>Captured moments from our journey together.</p>
          </div>
        </div>

        <!-- Row for the gallery images, with responsive column classes -->
        <!-- The column classes control how many images are displayed per row based on screen size -->
        <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1 justify-content-center">
          <!-- Individual gallery item, repeated for each image -->
          <div class="col mt-3">
            <!-- Anchor tag for lightbox effect, linking to a larger version of the image -->
            <a href="img/1.png" data-toggle="lightbox" data-caption="1" data-gallery="mygallery">
              <!-- Image thumbnail, set to be fluid, full width, and rounded -->
              <img src="img/1.png" alt="1" class="img-fluid w-100 rounded" />
            </a>
          </div>

          <!-- Repeat for each gallery item, changing the image source, caption, and lightbox attributes -->
          <div class="col mt-3">
            <a href="img/2.png" data-toggle="lightbox" data-caption="2" data-gallery="mygallery">
              <img src="img/2.png" alt="2" class="img-fluid w-100 rounded gallery-img-2" />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/3.png" data-toggle="lightbox" data-caption="3" data-gallery="mygallery">
              <img src="img/3.png" alt="3" class="img-fluid w-100 rounded" />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/4.png" data-toggle="lightbox" data-caption="4" data-gallery="mygallery">
              <img src="img/4.png" alt="4" class="img-fluid w-100 rounded" />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/5.png" data-toggle="lightbox" data-caption="5" data-gallery="mygallery">
              <img src="img/5.png" alt="5" class="img-fluid w-100 rounded" />
            </a>
          </div>
          <div class="col mt-3">
            <a href="img/6.png" data-toggle="lightbox" data-caption="6" data-gallery="mygallery">
              <img src="img/6.png" alt="6" class="img-fluid w-100 rounded" />
            </a>
          </div>
        </div>

      </div>
    </section>
    <!-- Gallery Section End -->

   

    <!-- Info about perkahwinan -->
    <section id="info" class="info">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <h2>Event Information</h2>
            <p class="alamat">
              Main Venue: Bamboo Saa Spa & Resort, Udaipur,
 Rajasthan 313001
            </p>
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3627.951508895406!2d73.64895757585354!3d24.59086965599127!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3967faca9a66fa49%3A0xfa9fed8af32892f4!2sBamboo%20Saa%20Resort%20%26%20Spa!5e0!3m2!1sen!2sin!4v1761858897843!5m2!1sen!2sin"
              width="100%"
              height="400"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              class="info-map"
            ></iframe>
            <a href="https://maps.app.goo.gl/o9Ec86gb31aGTEmp9" target="_blank" class="btn btn-light">Click to open the map</a>
            <p class="description">
              Please note the venue address and date carefully. We look forward to celebrating with you!
            </p>
          </div>
        </div>

        
      </div>
    </section>
    <!-- End Info -->

    <!-- Attendance form section -->
    <section id="rsvp" class="rsvp">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8 col-10 text-center">
            <h2>Are You Attending?</h2>
          <br></br>
          </div>
        </div>

        <!-- Form for attendance confirmation -->
        <div class="row justify-content-center">
          <div class="col-lg-8 col-10">
            <form method="POST" action="https://script.google.com/macros/s/AKfycbzr8HCI0ZxOyqxKZDtsbSWjIB4VhZN5bTeKWORg2sE1RbXly4FRo37rUKeG5o4Kgo7s3w/exec" id="my-form" class="rsvp-form">
              <!-- Name fields - First and Last -->
              <div class="row mb-3">
                <div class="col-md-6 mb-3 mb-md-0">
                  <label for="firstName" class="form-label">Name <span class="required">*</span></label>
                  <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First" required />
                </div>
                <div class="col-md-6">
                  <label for="lastName" class="form-label">&nbsp;</label>
                  <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Last" required />
                </div>
              </div>

              <!-- Attendance Status Dropdown -->
              <div class="mb-3">
                <label for="attendance" class="form-label">Attendance Status</label>
                <select name="attendance" id="attendance" class="form-select" required>
                  <option value="" selected disabled>I am attending</option>
                  <option value="I am attending">I am attending</option>
                  <option value="I am not attending">I am not attending</option>
                </select>
              </div>

              <!-- Number of Guests Dropdown -->
              <div class="mb-3">
                <label for="guests" class="form-label">Number of guests</label>
                <select name="guests" id="guests" class="form-select" required>
                  <option value="0">0</option>
                  <option value="1" selected>1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                </select>
              </div>

              <!-- Comment or Message -->
              <div class="mb-4">
                <label for="message" class="form-label">Comment or Message</label>
                <textarea class="form-control" id="message" name="message" rows="5" placeholder="Your message here..."></textarea>
              </div>

              <!-- Submit button -->
              <div class="text-center">
                <button type="submit" class="btn btn-submit">
                  <span class="btn-text">SEND MESSAGE</span>
                  <span class="btn-loading" style="display: none;">Loading...</span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <!-- Attendance form end -->


    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col text-center">
            <small class="block"> Designed by Priyanshu &copy; 2025 </small>
            <small class="block">Made with ❤️ for our special day</small>

            <ul class="mt-3">
              <li>
                <a href="https://www.instagram.com/humaarepriypal/" target="_blank"><i class="bi bi-instagram"></i></a>
              </li>
              <li>
                <a href="https://www.youtube.com/channel/UCaCTdxY2XwAZgDMQfstiedg" target="_blank"><i class="bi bi-youtube"></i></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <!-- Footer End -->

    <!-- Audio Section -->
    <div id="audio-container">
      <!-- Audio element that automatically plays and loops the specified audio file -->
      <audio id="song" loop preload="auto">
        <source src="audio/Ed Sheeran - Perfect.mp3" type="audio/mp3" />
      </audio>

      <!-- Wrapper for the audio icon, visible so users can click to play -->
      <div class="audio-icon-wrapper" style="display: flex">
        <!-- Icon representing the audio status (play icon initially) -->
        <i class="bi bi-play-circle"></i>
      </div>
    </div>
    <!-- Audio Section End -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

    <!-- Lightbox Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>

    <!-- Countdown tu set random sahaja -->
    <script>
      simplyCountdown(".simply-countdown", {
        year: 2025, // required
        month: 12, // required
        day: 8, // required
        hours: 0, // Default is 0 [0-23] integer
        words: {
          //words displayed into the countdown
          days: { singular: "day", plural: "days" },
          hours: { singular: "hour", plural: "hours" },
          minutes: { singular: "minute", plural: "minutes" },
          seconds: { singular: "second", plural: "seconds" },
        },
        plural: true, //use plurals
      });
    </script>

    <!-- Solve problem when the website change to mobile screen for NavBar -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Select elements with the class "sticky-top" and "offcanvas"
        const stickyTop = document.querySelector(".sticky-top");
        const offcanvas = document.querySelector("#offcanvasNavbar");
        const navLinks = document.querySelectorAll("#offcanvasNavbar .nav-link");
        
        if (offcanvas) {
          // Event listener for when the offcanvas is shown
          offcanvas.addEventListener("show.bs.offcanvas", function () {
            // Change the overflow style of the sticky-top element to 'visible'
            if (stickyTop) {
              stickyTop.style.overflow = "visible";
            }
          });

          // Event listener for when the offcanvas is hidden
          offcanvas.addEventListener("hidden.bs.offcanvas", function () {
            // Change the overflow style of the sticky-top element to 'hidden'
            if (stickyTop) {
              stickyTop.style.overflow = "hidden";
            }
          });

          // Close offcanvas when nav links are clicked (important for mobile UX)
          navLinks.forEach(function(link) {
            link.addEventListener('click', function() {
              // Close the offcanvas after a short delay to allow navigation
              setTimeout(function() {
                if (typeof bootstrap !== 'undefined' && bootstrap.Offcanvas) {
                  const offcanvasInstance = bootstrap.Offcanvas.getInstance(offcanvas);
                  if (offcanvasInstance) {
                    offcanvasInstance.hide();
                  }
                }
              }, 300);
            });
          });
        }
      });
    </script>

    <!-- JavaScript to control scroll behavior and audio playback -->
    <script>
      // Select the root element, the audio icon wrapper, the icon inside the wrapper, and the audio element
      const rootElement = document.querySelector(":root");
      const audioIconWrapper = document.querySelector(".audio-icon-wrapper");
      const audioIcon = document.querySelector(".audio-icon-wrapper i");
      const song = document.querySelector("#song");
      let isPlaying = false; // Variable to track whether the audio is playing or not

      // Function to disable scrolling (improved for Android)
      function disableScroll() {
        scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

        // Add styles to prevent scrolling on body and html
        document.body.style.overflow = 'hidden';
        document.body.style.position = 'fixed';
        document.body.style.top = `-${scrollTop}px`;
        document.body.style.width = '100%';
        document.documentElement.style.overflow = 'hidden';

        // Prevent scrolling by locking the scroll position (fallback)
        window.onscroll = function () {
          window.scrollTo(scrollTop, scrollLeft);
        };

        // Set the scroll behavior to 'auto' to prevent smooth scrolling during the lock
        rootElement.style.scrollBehavior = "auto";

        // Prevent touch move on mobile devices
        document.addEventListener('touchmove', preventScroll, { passive: false });
        document.addEventListener('wheel', preventScroll, { passive: false });
      }

      // Function to prevent scroll events
      function preventScroll(e) {
        e.preventDefault();
      }

      // Function to enable scrolling
      function enableScroll() {
        // Remove fixed positioning and restore scroll position
        const scrollY = document.body.style.top;
        document.body.style.overflow = '';
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.width = '';
        document.documentElement.style.overflow = '';
        
        // Restore scroll position
        window.scrollTo(0, parseInt(scrollY || '0') * -1);

        window.onscroll = function () {}; // Unlock scrolling
        rootElement.style.scrollBehavior = "smooth"; // Re-enable smooth scrolling
        
        // Remove touch move prevention
        document.removeEventListener('touchmove', preventScroll);
        document.removeEventListener('wheel', preventScroll);
        
        playAudio(); // Start playing the audio when scrolling is enabled
      }

      // Function to play audio and display the audio icon
      function playAudio() {
        song.volume = 0.1; // Set the audio volume to 10%
        
        // Try to play audio (modern browsers require user interaction)
        const playPromise = song.play();
        if (playPromise !== undefined) {
          playPromise
            .then(() => {
              // Audio started playing
              isPlaying = true;
              audioIcon.classList.remove("bi-play-circle");
              audioIcon.classList.add("bi-disc");
              audioIcon.classList.remove("bi-pause-circle");
              audioIconWrapper.classList.add("playing"); // Add rotating animation
            })
            .catch((error) => {
              // Autoplay was prevented - show play button instead
              isPlaying = false;
              audioIcon.classList.remove("bi-disc");
              audioIcon.classList.remove("bi-pause-circle");
              audioIcon.classList.add("bi-play-circle");
              console.log("Autoplay prevented. Click the icon to play.");
            });
        }
      }

      // Toggle audio playback when the audio icon is clicked
      audioIconWrapper.onclick = function () {
        if (isPlaying) {
          song.pause(); // Pause the audio if it is playing
          audioIcon.classList.remove("bi-disc"); // Remove disc icon
          audioIcon.classList.add("bi-pause-circle"); // Show pause icon
          audioIconWrapper.classList.remove("playing"); // Remove rotating animation
          isPlaying = false;
        } else {
          // Play the audio - this will work because it's user-initiated
          const playPromise = song.play();
          if (playPromise !== undefined) {
            playPromise
              .then(() => {
                audioIcon.classList.add("bi-disc"); // Show disc icon
                audioIcon.classList.remove("bi-pause-circle"); // Remove pause icon
                audioIcon.classList.remove("bi-play-circle"); // Remove play icon
                audioIconWrapper.classList.add("playing"); // Add rotating animation
                isPlaying = true;
              })
              .catch((error) => {
                console.log("Error playing audio:", error);
              });
          }
        }
      };

      // Initialize audio icon state (play icon visible)
      isPlaying = false;

      // Initially disable scrolling until user clicks "See Invitation"
      disableScroll();
      
      // Set volume when audio loads
      song.addEventListener('loadeddata', function() {
        song.volume = 0.1;
      });
    </script>

    <!-- Photo Upload Handler -->
    <script>
      window.addEventListener("load", function () {
        const photoForm = document.getElementById("photo-upload-form");
        const photoInput = document.getElementById("photo-upload");
        const uploadBtn = document.getElementById("upload-btn");
        const uploadPreview = document.getElementById("upload-preview");
        const uploadLabel = document.querySelector(".upload-label");
        let selectedFiles = [];

        // Google Apps Script URL for photo upload - Replace with your actual Google Apps Script deployment URL
        const PHOTO_UPLOAD_URL = "YOUR_GOOGLE_APPS_SCRIPT_PHOTO_UPLOAD_URL";

        // Handle file selection
        photoInput.addEventListener("change", function (e) {
          selectedFiles = Array.from(e.target.files);
          displayPreview(selectedFiles);
          uploadBtn.disabled = selectedFiles.length === 0;
        });

        // Drag and drop functionality
        uploadLabel.addEventListener("dragover", function (e) {
          e.preventDefault();
          uploadLabel.style.borderColor = "var(--accent)";
          uploadLabel.style.background = "linear-gradient(135deg, var(--white) 0%, var(--cream) 100%)";
        });

        uploadLabel.addEventListener("dragleave", function (e) {
          e.preventDefault();
          uploadLabel.style.borderColor = "var(--taupe)";
          uploadLabel.style.background = "linear-gradient(135deg, var(--cream) 0%, var(--white) 100%)";
        });

        uploadLabel.addEventListener("drop", function (e) {
          e.preventDefault();
          uploadLabel.style.borderColor = "var(--taupe)";
          uploadLabel.style.background = "linear-gradient(135deg, var(--cream) 0%, var(--white) 100%)";
          
          const files = Array.from(e.dataTransfer.files).filter(file => file.type.startsWith("image/"));
          selectedFiles = files;
          displayPreview(selectedFiles);
          uploadBtn.disabled = selectedFiles.length === 0;
        });

        // Display preview of selected images
        function displayPreview(files) {
          uploadPreview.innerHTML = "";
          files.forEach((file, index) => {
            const reader = new FileReader();
            reader.onload = function (e) {
              const previewItem = document.createElement("div");
              previewItem.className = "upload-preview-item";
              previewItem.innerHTML = `
                <img src="${e.target.result}" alt="Preview ${index + 1}" />
                <button type="button" class="remove-btn" data-index="${index}">
                  <i class="bi bi-x"></i>
                </button>
              `;
              uploadPreview.appendChild(previewItem);

              // Remove button functionality
              previewItem.querySelector(".remove-btn").addEventListener("click", function () {
                selectedFiles.splice(index, 1);
                displayPreview(selectedFiles);
                uploadBtn.disabled = selectedFiles.length === 0;
              });
            };
            reader.readAsDataURL(file);
          });
        }

        // Handle form submission
        photoForm.addEventListener("submit", function (e) {
          e.preventDefault();

          if (selectedFiles.length === 0) {
            alert("Please select at least one photo to upload.");
            return;
          }

          // Show loading state
          uploadBtn.classList.add("loading");
          uploadBtn.disabled = true;

          // Upload each file
          const uploadPromises = selectedFiles.map((file) => {
            const formData = new FormData();
            formData.append("photo", file);
            formData.append("timestamp", new Date().toISOString());

            return fetch(PHOTO_UPLOAD_URL, {
              method: "POST",
              body: formData,
            });
          });

          // Wait for all uploads to complete
          Promise.all(uploadPromises)
            .then((responses) => {
              const allSuccess = responses.every((response) => response.ok);
              if (allSuccess) {
                alert(`Successfully uploaded ${selectedFiles.length} photo(s)!`);
                photoForm.reset();
                selectedFiles = [];
                uploadPreview.innerHTML = "";
                uploadBtn.disabled = true;
              } else {
                throw new Error("Some uploads failed");
              }
            })
            .catch((error) => {
              alert("There was an error uploading your photos. Please try again.");
              console.error("Upload error:", error);
            })
            .finally(() => {
              uploadBtn.classList.remove("loading");
              uploadBtn.disabled = selectedFiles.length === 0;
            });
        });
      });
    </script>

    <!-- RSVP Form submission handler - Google Sheets -->
    <script>
      window.addEventListener("load", function () {
        const form = document.getElementById("my-form");
        const submitButton = form.querySelector(".btn-submit");

        form.addEventListener("submit", function (e) {
          e.preventDefault();

          // Show loading state
          submitButton.classList.add("loading");
          submitButton.disabled = true;

          // Collect form data
          const formData = new FormData(form);
          
          // Create a data object with proper field names for Google Sheets
          const data = {
            firstName: formData.get("firstName"),
            lastName: formData.get("lastName"),
            fullName: `${formData.get("firstName")} ${formData.get("lastName")}`,
            attendance: formData.get("attendance"),
            guests: formData.get("guests"),
            message: formData.get("message") || "",
            timestamp: new Date().toISOString()
          };

          // Convert to URL-encoded format for Google Apps Script
          const params = new URLSearchParams();
          Object.keys(data).forEach(key => {
            params.append(key, data[key]);
          });

          // Send to Google Apps Script
          fetch(form.action, {
            method: "POST",
            mode: "no-cors",
            headers: {
              "Content-Type": "application/x-www-form-urlencoded",
            },
            body: params.toString()
          })
          .then(() => {
            // Show success message
            alert("Thank you! Your RSVP has been successfully submitted to our guest list.");
            form.reset();
            submitButton.classList.remove("loading");
            submitButton.disabled = false;
          })
          .catch((error) => {
            // Since we're using no-cors, we can't check the response
            // But we'll show success anyway as the form was submitted
            alert("Thank you! Your RSVP has been submitted. We'll see you soon!");
            form.reset();
            submitButton.classList.remove("loading");
            submitButton.disabled = false;
            console.log("Form submitted:", error);
          });
        });
      });
    </script>
  </body>
</html>
